import{e as V,f as u,k as y,l as j,c as i,a as t,g as A,t as s,m as D,z as E,F as I,r as x,o as c}from"./CoqnhHP_.js";import{_ as F}from"./DlAUqK2U.js";const G={class:"gallery-container"},N={class:"pagination-controls"},z={for:"itemsPerPage"},L=["value"],q=["disabled"],H=["disabled"],J={class:"image-gallery"},K=["onClick"],O=["src","alt"],Q=["src","alt"],T=V({__name:"gallery",props:{title:{type:String,default:""},apiUrl:{type:String,default:""},subfolders:{type:Array,default:()=>[]},fileRanges:{type:Array,default:()=>[]}},setup(b){const d=b,n=u([]),v=u({}),r=u(null),g=u(10),o=u(0),m=y(()=>o.value*g.value),p=y(()=>Math.min(m.value+g.value,n.value.length)),h=y(()=>n.value.length),U=y(()=>n.value.slice(m.value,p.value)),S=async()=>{const a=d.subfolders,l=d.fileRanges;for(const[e,f]of a.entries())for(let _=l[e][0];_<=l[e][1];_++){const k=_.toString().padStart(2,"0"),C=`${d.apiUrl}/${f}/${k}.jpg`,P=`${d.apiUrl}/${f}/${k}.txt`;try{const $=await(await fetch(P)).text();n.value.push(C),v.value[C]=$}catch($){console.error(`Erreur lors du chargement : ${P}`,$)}}},M=()=>{o.value>0&&o.value--},w=()=>{p.value<h.value&&o.value++},B=a=>{r.value=a+m.value},R=()=>{r.value=null};return j(S),(a,l)=>(c(),i("div",G,[t("h1",null,s(b.title||a.$t("gallery.default_title")),1),t("div",N,[t("label",z,s(a.$t("gallery.items_per_page")),1),D(t("select",{id:"itemsPerPage","onUpdate:modelValue":l[0]||(l[0]=e=>g.value=e),onChange:l[1]||(l[1]=e=>o.value=0)},[(c(),i(I,null,x([5,10,15,20,25],e=>t("option",{key:e,value:e},s(e),9,L)),64))],544),[[E,g.value]]),t("span",null,s(a.$t("gallery.range",{start:m.value+1,end:p.value,total:h.value})),1),t("button",{disabled:o.value===0,onClick:M}," ← "+s(a.$t("common.previous")),9,q),t("button",{disabled:p.value>=h.value,onClick:w},s(a.$t("common.next"))+" → ",9,H)]),t("div",J,[(c(!0),i(I,null,x(U.value,(e,f)=>(c(),i("div",{key:e,class:"image-item",onClick:_=>B(f)},[t("img",{src:e,alt:v.value[e]},null,8,O),t("h2",null,s(v.value[e]),1)],8,K))),128))]),r.value!==null?(c(),i("div",{key:0,class:"modal",onClick:R},[t("img",{src:n.value[r.value],alt:v.value[n.value[r.value]],class:"modal-image"},null,8,Q)])):A("",!0)]))}}),Y=F(T,[["__scopeId","data-v-d799a1f2"]]);export{Y as G};
